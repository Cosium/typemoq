var TypeMoq;!function(e){var t=function(){function e(){}return e.IMATCH_ID_VALUE="438A51D3-6864-49D7-A655-CA1153B86965",e.IMATCH_ID_NAME="___id",e.IMATCH_MATCHES_NAME="___matches",e}();e.Cons=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(){}return e}();e.CurrentInterceptContext=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Value=2]="Value"}(e.GlobalType||(e.GlobalType={}));var t=e.GlobalType,n=function(){function n(e,t,n,o){this.mock=e,this._name=t,this._type=n,this.container=o}return n.ofInstance=function(o,r,i,c){void 0===i&&(i=window),void 0===c&&(c=e.MockBehavior.Loose);var a=e.Mock.ofInstance(o,c),u=_.isFunction(o)?t.Function:t.Value;return new n(a,r,u,i)},n.ofType=function(o,r,i,c){void 0===i&&(i=window),void 0===c&&(c=e.MockBehavior.Loose);var a=new o,u=e.Mock.ofInstance(a,c);return new n(u,r,t.Class,i)},Object.defineProperty(n.prototype,"object",{get:function(){return this.mock.object},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name||this.mock.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"behavior",{get:function(){return this.mock.behavior},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"callBase",{get:function(){return this.mock.callBase},set:function(e){this.mock.callBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),n.prototype.setup=function(e){return this.mock.setup(e)},n.prototype.verify=function(e,t){this.mock.verify(e,t)},n.prototype.verifyAll=function(){this.mock.verifyAll()},n}();e.GlobalMock=n}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(){}return e.getOwnEnumerables=function(e){return this._getPropertyNames(e,!0,!1,this._enumerable)},e.getOwnNonenumerables=function(e){return this._getPropertyNames(e,!0,!1,this._notEnumerable)},e.getOwnEnumerablesAndNonenumerables=function(e){return this._getPropertyNames(e,!0,!1,this._enumerableAndNotEnumerable)},e.getPrototypeEnumerables=function(e){return this._getPropertyNames(e,!1,!0,this._enumerable)},e.getPrototypeNonenumerables=function(e){return this._getPropertyNames(e,!1,!0,this._notEnumerable)},e.getPrototypeEnumerablesAndNonenumerables=function(e){return this._getPropertyNames(e,!1,!0,this._enumerableAndNotEnumerable)},e.getOwnAndPrototypeEnumerables=function(e){return this._getPropertyNames(e,!0,!0,this._enumerable)},e.getOwnAndPrototypeNonenumerables=function(e){return this._getPropertyNames(e,!0,!0,this._notEnumerable)},e.getOwnAndPrototypeEnumerablesAndNonenumerables=function(e){return this._getPropertyNames(e,!0,!0,this._enumerableAndNotEnumerable)},e._enumerable=function(e,t){return e.propertyIsEnumerable(t)},e._notEnumerable=function(e,t){return!e.propertyIsEnumerable(t)},e._enumerableAndNotEnumerable=function(e,t){return!0},e._getPropertyNames=function(e,t,n,o){var r=[];do{if(t){var i=Object.getOwnPropertyNames(e);_.forEach(i,function(t){var n=_.find(r,function(e){return e.name===t});if(!n&&o(e,t)){var i=Object.getOwnPropertyDescriptor(e,t);r.push({name:t,desc:i})}})}if(!n)break;t=!0}while(e=Object.getPrototypeOf(e));return r},e}();e.PropertyRetriever=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(){}return e.getUUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t},e.functionName=function(e){var t=e.toString();return t=t.substr("function ".length),t=t.substr(0,t.indexOf("("))},e.conthunktor=function(e,t){return function(){var n,o,r=function(){};return r.prototype=e.prototype,n=new r,_.isFunction(e)&&(o=e.apply(n,t)),_.isObject(o)?o:n}()},e}();e.Utils=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(e){var t=function(){function e(e,t){this.name=e,this.message=t,this.name=e}return e.prototype.toString=function(){return this.name},e}();e.Exception=t}(t=e.Error||(e.Error={}))}(TypeMoq||(TypeMoq={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},TypeMoq;!function(e){var t;!function(e){!function(e){e[e.NoSetup=0]="NoSetup",e[e.MoreThanOneSetupExpression=1]="MoreThanOneSetupExpression",e[e.InvalidSetupExpression=2]="InvalidSetupExpression",e[e.InvalidMatcher=3]="InvalidMatcher",e[e.InvalidProxyArgument=4]="InvalidProxyArgument",e[e.UnknownGlobalType=5]="UnknownGlobalType",e[e.VerificationFailed=6]="VerificationFailed",e[e.MoreThanOneCall=7]="MoreThanOneCall",e[e.MoreThanNCalls=8]="MoreThanNCalls"}(e.MockExceptionReason||(e.MockExceptionReason={}));var t=(e.MockExceptionReason,function(e){function t(t,n,o,r){void 0===o&&(o="Mock Exception"),e.call(this,o,r),this.reason=t,this.ctx=n}return __extends(t,e),t}(e.Exception));e.MockException=t}(t=e.Error||(e.Error={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(t){var n=function(){function t(t){this._ctor=t,this.___id=e.Cons.IMATCH_ID_VALUE}return t.prototype.___matches=function(e){var t=!1;return this._ctor.prototype===e.constructor.prototype&&(t=!0),t},t}();t.MatchAnyObject=n;var o=function(){function t(){this.___id=e.Cons.IMATCH_ID_VALUE}return t.prototype.___matches=function(e){var t=!1;return _.isUndefined(e)||(t=!0),t},t}();t.MatchAny=o;var r=function(){function t(){this.___id=e.Cons.IMATCH_ID_VALUE}return t.prototype.___matches=function(e){var t=!1;return _.isString(e)&&(t=!0),t},t}();t.MatchAnyString=r;var i=function(){function t(){this.___id=e.Cons.IMATCH_ID_VALUE}return t.prototype.___matches=function(e){var t=!1;return _.isNumber(e)&&(t=!0),t},t}();t.MatchAnyNumber=i}(t=e.Match||(e.Match={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(t){var n=function(){function t(t){this._value=t,this.___id=e.Cons.IMATCH_ID_VALUE}return t.prototype.___matches=function(e){var t=!1;return _.isEqual(this._value,e)&&(t=!0),t},t}();t.MatchValue=n}(t=e.Match||(e.Match={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(e){var t=function(){function e(e,t){this._property=e,this._args=t}return Object.defineProperty(e.prototype,"args",{get:function(){return this._args||{length:0,callee:null}},set:function(e){this._args=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"property",{get:function(){return this._property},enumerable:!0,configurable:!0}),e.prototype.invokeBase=function(){this.returnValue=this._property.toFunc.apply(this._property.obj,this._args)},e}();e.MethodInvocation=t;var n=function(){function e(e,t){this._property=e,this.returnValue=t}return Object.defineProperty(e.prototype,"args",{get:function(){var e=[];return Object.defineProperty(e,"callee",{configurable:!1,enumerable:!0,writable:!1,value:null}),e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"property",{get:function(){return this._property},enumerable:!0,configurable:!0}),e.prototype.invokeBase=function(){},e}();e.GetterInvocation=n;var o=function(){function e(e,t){this._property=e,this._args=t}return Object.defineProperty(e.prototype,"args",{get:function(){return this._args},set:function(e){this._args=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"property",{get:function(){return this._property},enumerable:!0,configurable:!0}),e.prototype.invokeBase=function(){this.returnValue=this._property.obj[this._property.name]=this._args[0]},e}();e.SetterInvocation=o;var r=function(){function e(e,t){this.obj=e,this.name=t}return Object.defineProperty(e.prototype,"toFunc",{get:function(){var e;return e=_.isFunction(this.obj)?this.obj:this.obj[this.name]},enumerable:!0,configurable:!0}),e}();e.MethodInfo=r;var i=function(){function e(e,t){this.obj=e,this.name=t}return e}();e.PropertyInfo=i}(t=e.Proxy||(e.Proxy={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(t){var n=function(){function n(t,n){var o=this;this.check(n);var r=this,i=e.PropertyRetriever.getOwnAndPrototypeEnumerablesAndNonenumerables(n);_.each(i,function(e){if(_.isFunction(e.desc.value)){var i={configurable:e.desc.configurable,enumerable:e.desc.enumerable,writable:e.desc.writable};o.defineMethodProxy(r,t,n,e.name,i)}else{var i={configurable:e.desc.configurable,enumerable:e.desc.enumerable};o.definePropertyProxy(r,t,n,e.name,e.desc.value,i)}})}return n.of=function(t,o){n.check(t);var r;if(_.isFunction(t)){var i=e.Utils.functionName(t);r=n.methodProxyValue(o,t,i)}else r=new n(o,t);return r},n.check=function(e){n.checkNotNull(e);var t=!1;if((_.isFunction(e)||_.isObject(e)&&!n.isPrimitiveObject(e))&&(t=!0),!t)throw new error.MockException(error.MockExceptionReason.InvalidProxyArgument,e,"InvalidProxyArgument Exception","Argument should be a function or a non primitive object")},n.prototype.check=function(e){n.checkNotNull(e);var t=!1;if(_.isFunction(e)||!_.isObject(e)||n.isPrimitiveObject(e)||(t=!0),!t)throw new error.MockException(error.MockExceptionReason.InvalidProxyArgument,e,"InvalidProxyArgument Exception","Argument should be a non primitive object")},n.checkNotNull=function(e){if(_.isNull(e))throw new error.MockException(error.MockExceptionReason.InvalidProxyArgument,e,"InvalidProxyArgument Exception","Argument cannot be null")},n.isPrimitiveObject=function(e){var t=!1;return(_.isFunction(e)||_.isArray(e)||_.isDate(e)||_.isNull(e))&&(t=!0),t},n.prototype.defineMethodProxy=function(e,t,o,r,i){void 0===i&&(i={configurable:!1,enumerable:!0,writable:!1}),i.value=n.methodProxyValue(t,o,r),this.defineProperty(e,r,i)},n.methodProxyValue=function(e,n,o){function r(){var r=new t.MethodInfo(n,o),i=new t.MethodInvocation(r,arguments);return e.intercept(i),i.returnValue}return r},n.prototype.definePropertyProxy=function(e,n,o,r,i,c){function a(){var e=new t.PropertyInfo(o,r),c=new t.GetterInvocation(e,i);return n.intercept(c),c.returnValue}function u(e){var i=new t.PropertyInfo(o,r),c=new t.SetterInvocation(i,arguments);n.intercept(c)}void 0===c&&(c={configurable:!1,enumerable:!0}),c.get=a,c.set=u,this.defineProperty(e,r,c)},n.prototype.defineProperty=function(e,t,n){try{Object.defineProperty(e,t,n)}catch(o){console.log(o.message)}},n}();t.Proxy=n}(t=e.Proxy||(e.Proxy={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t;!function(e){var t=function(){function t(){}return t.prototype.createProxy=function(t,n){var o=e.Proxy.of(n,t);return o},t}();e.ProxyFactory=t}(t=e.Proxy||(e.Proxy={}))}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){!function(e){e[e.Continue=0]="Continue",e[e.Stop=1]="Stop"}(e.InterceptionAction||(e.InterceptionAction={}));var t=(e.InterceptionAction,function(){function e(e,t){this.behavior=e,this.mock=t,this._actualInvocations=[],this._orderedCalls=[]}return e.prototype.addInvocation=function(e){this._actualInvocations.push(e)},e.prototype.actualInvocations=function(){return this._actualInvocations},e.prototype.clearInvocations=function(){this._actualInvocations=[]},e.prototype.addOrderedCall=function(e){this._orderedCalls.push(e)},e.prototype.removeOrderedCall=function(e){_.filter(this._orderedCalls,function(t){return t.id!==e.id})},e.prototype.orderedCalls=function(){return this._orderedCalls},e}());e.InterceptorContext=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function t(t,n){this._interceptorContext=new e.InterceptorContext(t,n)}return Object.defineProperty(t.prototype,"interceptorContext",{get:function(){return this._interceptorContext},enumerable:!0,configurable:!0}),t.prototype.intercept=function(t){var n=this,o=new e.CurrentInterceptContext;_.some(this.interceptionStrategies(),function(r){return e.InterceptionAction.Stop===r.handleIntercept(t,n.interceptorContext,o)?!0:void 0})},t.prototype.addCall=function(e){this._interceptorContext.addOrderedCall(e)},t.prototype.verifyCall=function(e,t){var n=this._interceptorContext.actualInvocations(),o=_.filter(n,function(t){return e.matches(t)}).length;t.verify(o)||this.throwVerifyCallException(e.setupCall,t)},t.prototype.verify=function(){var t=this._interceptorContext.orderedCalls(),n=_.filter(t,function(e){return e.isVerifiable}),o=_.filter(t,function(e){return e.isVerifiable&&e.isInvoked}),r=e.Times.exactly(n.length);r.verify(o.length)||this.throwVerifyException(n,r)},t.prototype.interceptionStrategies=function(){var t=[new e.AddActualInvocation,new e.ExtractProxyCall,new e.ExecuteCall,new e.InvokeBase,new e.HandleMockRecursion];return t},t.prototype.throwVerifyCallException=function(e,t){var n=new error.MockException(error.MockExceptionReason.VerificationFailed,e,"VerifyCall Exception",t.failMessage);throw n},t.prototype.throwVerifyException=function(e,t){var n=new error.MockException(error.MockExceptionReason.VerificationFailed,e,"Verify Exception",t.failMessage);throw n},t}();e.InterceptorExecute=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(){}return Object.defineProperty(e.prototype,"interceptedCall",{get:function(){return this._interceptedCall},enumerable:!0,configurable:!0}),e.prototype.intercept=function(e){if(this._interceptedCall)throw new error.MockException(error.MockExceptionReason.MoreThanOneSetupExpression,e,"MoreThanOneSetupExpression Exception","Setup should contain only one expression");this._interceptedCall=e},e}();e.InterceptorSetup=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function t(){}return t.prototype.handleIntercept=function(t,n,o){return n.addInvocation(t),e.InterceptionAction.Continue},t}();e.AddActualInvocation=t;var n=function(){function t(){}return t.prototype.handleIntercept=function(t,n,o){var r=n.orderedCalls().slice(),i=function(e){return e.matches(t)},c=_.filter(r,function(e){return i(e)});if(c.length>1&&(i=function(e){return!e.isInvoked&&e.matches(t)}),o.call=_.find(r,function(e){return i(e)}),null!=o.call)o.call.evaluatedSuccessfully();else if(n.behavior==e.MockBehavior.Strict)throw new error.MockException(error.MockExceptionReason.NoSetup,t);return e.InterceptionAction.Continue},t}();e.ExtractProxyCall=n;var o=function(){function t(){}return t.prototype.handleIntercept=function(t,n,o){this._ctx=n;var r=o.call;return null!=r?(r.execute(t),e.InterceptionAction.Stop):e.InterceptionAction.Continue},t}();e.ExecuteCall=o;var r=function(){function t(){}return t.prototype.handleIntercept=function(t,n,o){return n.mock.callBase?(t.invokeBase(),e.InterceptionAction.Stop):e.InterceptionAction.Continue},t}();e.InvokeBase=r;var i=function(){function t(){}return t.prototype.handleIntercept=function(t,n,o){return e.InterceptionAction.Continue},t}();e.HandleMockRecursion=i}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(){}return e.isValue=function(e){var t=new match.MatchValue(e);return t},e.isAnyObject=function(e){var t=new match.MatchAnyObject(e);return t},e.isAny=function(){var e=new match.MatchAny;return e},e.isAnyString=function(){var e=new match.MatchAnyString;return e},e.isAnyNumber=function(){var e=new match.MatchAnyNumber;return e},e}();e.It=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function t(t,n){this.mock=t,this._setupExpression=n,this._id=this.generateId();var o=new e.InterceptorSetup,r=e.Mock.proxyFactory.createProxy(o,t.instance);if(n(r),!o.interceptedCall)throw new error.MockException(error.MockExceptionReason.InvalidSetupExpression,this._setupExpression,"InvalidSetupExpression Exception","Invalid setup expression");var i=o.interceptedCall,c=this.transformToMatchers(i.args);Object.defineProperty(c,"callee",{configurable:!1,enumerable:!0,writable:!1,value:i.args.callee}),i.args=c,this._setupCall=i}return t.prototype.generateId=function(){return"MethodCall<"+_.uniqueId()+">"},t.prototype.transformToMatchers=function(t){var n=[];return _.each(t,function(t){if(_.isObject(t)){if(_.isUndefined(t[e.Cons.IMATCH_MATCHES_NAME])||_.isUndefined(t[e.Cons.IMATCH_ID_NAME])||t[e.Cons.IMATCH_ID_NAME]!==e.Cons.IMATCH_ID_VALUE)throw new error.MockException(error.MockExceptionReason.InvalidMatcher,t,"InvalidMatcher Exception","Invalid match object");n.push(t)}else{var o=new match.MatchValue(t);n.push(o)}}),n},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"callCount",{get:function(){return this._callCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setupExpression",{get:function(){return this._setupExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setupCall",{get:function(){return this._setupCall},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVerifiable",{get:function(){return this._isVerifiable},enumerable:!0,configurable:!0}),t.prototype.evaluatedSuccessfully=function(){this._evaluatedSuccessfully=!0},t.prototype.matches=function(e){var t=!1;return this._setupCall.property&&e&&e.property&&this._setupCall.property.name===e.property.name&&this._setupCall.args.length===e.args.length&&(t=!0,_.each(this.setupCall.args,function(n,o){var r=n,i=e.args[o];t&&!r.___matches(i)&&(t=!1)})),t},t.prototype.execute=function(t){if(this.isInvoked=!0,null!=this._setupCallback&&this._setupCallback.apply(this,t.args),null!=this._thrownException)throw this._thrownException;if(this._callCount++,this._isOnce){var n=e.Times.atMostOnce();if(!n.verify(this._callCount))throw new error.MockException(error.MockExceptionReason.MoreThanOneCall,this,"MoreThanOneCall Exception",n.failMessage)}if(this._expectedCallCount){var n=e.Times.exactly(this._expectedCallCount);if(!n.verify(this._callCount))throw new error.MockException(error.MockExceptionReason.MoreThanNCalls,this,"MoreThanNCalls Exception",n.failMessage)}},t.prototype.verifiable=function(e){this._isVerifiable=!0,null!=e&&(this.failMessage=e)},t}();e.MethodCall=t}(TypeMoq||(TypeMoq={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},TypeMoq;!function(e){var t=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t.prototype.execute=function(t){e.prototype.execute.call(this,t),this._callBase?t.invokeBase():this.hasReturnValue&&(t.returnValue=this._returnValueFunc.apply(this,t.args))},t.prototype.callback=function(e){return this._setupCallback=e,this},t.prototype["throws"]=function(e){return this._thrownException=e,this},t.prototype.returns=function(e){return this._returnValueFunc=e,this.hasReturnValue=!0,this},t.prototype.callBase=function(){return this._callBase=!0,this},t}(e.MethodCall);e.MethodCallReturn=t}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){!function(e){e[e.Loose=0]="Loose",e[e.Strict=1]="Strict"}(e.MockBehavior||(e.MockBehavior={}));var t=e.MockBehavior,n=function(){function n(o,r){void 0===r&&(r=t.Loose),this.instance=o,this._behavior=r,this._id=this.generateId(),this._name=this.getNameOf(o),this._interceptor=new e.InterceptorExecute(this._behavior,this),this._proxy=n.proxyFactory.createProxy(this._interceptor,o)}return n.ofInstance=function(e,o){void 0===o&&(o=t.Loose);var r=new n(e,o);return r},n.ofType=function(e,o){void 0===o&&(o=t.Loose);for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var c=n.ofType2(e,r,o);return c},n.ofType2=function(o,r,i){void 0===i&&(i=t.Loose);var c=e.Utils.conthunktor(o,r),a=new n(c,i);return a},Object.defineProperty(n.prototype,"object",{get:function(){return this._proxy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"behavior",{get:function(){return this._behavior},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"callBase",{get:function(){return this._callBase},set:function(e){this._callBase=e},enumerable:!0,configurable:!0}),n.prototype.generateId=function(){return"Mock<"+_.uniqueId()+">"},n.prototype.getNameOf=function(t){var n;if(_.isFunction(t))n=e.Utils.functionName(t);else if(_.isObject(t)){var o=t.constructor;n=e.Utils.functionName(o)}return n&&(n=n.trim()),n},n.prototype.setup=function(t){var n=new e.MethodCallReturn(this,t);return this._interceptor.addCall(n),n},n.prototype.verify=function(t,n){var o=new e.MethodCall(this,t);this._interceptor.addCall(o);try{this._interceptor.verifyCall(o,n)}catch(r){throw r}},n.prototype.verifyAll=function(){try{this._interceptor.verify()}catch(e){throw e}},n.proxyFactory=new e.Proxy.ProxyFactory,n}();e.Mock=n}(TypeMoq||(TypeMoq={}));var TypeMoq;!function(e){var t=function(){function e(e,t,n,o){this._condition=e,this._from=t,this._to=n,this._failMessage=_.template(o)}return Object.defineProperty(e.prototype,"failMessage",{get:function(){return this._failMessage({n:this._from,m:this._lastCallCount})},enumerable:!0,configurable:!0}),e.prototype.verify=function(e){return this._lastCallCount=e,this._condition(e)},e.exactly=function(t){return new e(function(e){return e===t},t,t,e.NO_MATCHING_CALLS_EXACTLY_N_TIMES)},e.never=function(){return e.exactly(0)},e.once=function(){return e.exactly(1)},e.atLeastOnce=function(){return new e(function(e){return e>=1},1,Number.MAX_VALUE,e.NO_MATCHING_CALLS_AT_LEAST_ONCE)},e.atMostOnce=function(){return new e(function(e){return e>=0&&1>=e},0,1,e.NO_MATCHING_CALLS_AT_MOST_ONCE)},e.NO_MATCHING_CALLS_EXACTLY_N_TIMES="Expected invocation on the mock <%= n %> times, invoked <%= m %> times",e.NO_MATCHING_CALLS_AT_LEAST_ONCE="Expected invocation on the mock at least once",e.NO_MATCHING_CALLS_AT_MOST_ONCE="Expected invocation on the mock at most once",e}();e.Times=t}(TypeMoq||(TypeMoq={}));var error=TypeMoq.Error,match=TypeMoq.Match,proxy=TypeMoq.Proxy,TypeMoq;!function(e){var t=function(){function t(e){this._args=e}return t.using=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=new t(e);return o},t.prototype["with"]=function(t){var n=[];try{_.each(this._args,function(t){if(!_.isUndefined(t.container[t.name])){var o=e.PropertyRetriever.getOwnAndPrototypeEnumerablesAndNonenumerables(t.container),r=_.find(o,function(e){return e.name===t.name});n[t.name]=r.desc;var i={};switch(t.type){case e.GlobalType.Class:i.value=function(){return t.mock.object};break;case e.GlobalType.Function:i.value=t.mock.object;break;case e.GlobalType.Value:i.get=function(){return t.mock.object};break;default:throw new error.MockException(error.MockExceptionReason.UnknownGlobalType,t,"UnknownGlobalType Exception","unknown global type: "+t.type)}try{Object.defineProperty(t.container,t.name,i)}catch(c){console.log("1: "+c)}}}),t.apply(this,this._args)}finally{_.each(this._args,function(t){if(!_.isUndefined(t.mock.instance)){var o=n[t.name];if(o){switch(t.type){case e.GlobalType.Class:break;case e.GlobalType.Function:break;case e.GlobalType.Value:o.configurable=!0}try{Object.defineProperty(t.container,t.name,o)}catch(r){console.log("2: "+r)}}}})}},t}();e.GlobalScope=t}(TypeMoq||(TypeMoq={}));var TypeMoqStatic;if(function(e){e.Mock=TypeMoq.Mock,e.MockBehavior=TypeMoq.MockBehavior,e.It=TypeMoq.It,e.Times=TypeMoq.Times,e.GlobalMock=TypeMoq.GlobalMock,e.GlobalScope=TypeMoq.GlobalScope,e.MockException=TypeMoq.Error.MockException}(TypeMoqStatic||(TypeMoqStatic={})),typemoq=TypeMoqStatic,"undefined"!=typeof require)var _=require("underscore");"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=typemoq),exports.typemoq=typemoq):this.typemoq=typemoq;